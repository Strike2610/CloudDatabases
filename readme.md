# Cloud Databases assignment

## Installation

This project utilized Azurite so use Azure Storage Explorer for easy access to the data.

`Emulator & Attached > Storage Accounts > (Emulator - Default Ports) (Key) > Blob`

In the location above, make a table called `product-thumbnails`.
Dump the images in `/images` in this blob for everything to function as it should.

## Usage

There are 2 relevant projects to run:
1. `EndPoints`: as a user, these are the endpoints that can be called for various functionalities.
2. `QueueProcessing`: for the user this doesn't do anything, but it contains all internal workings for the functioning.

Neither project requires the other to function, but full functionality will require the other project as they work in tandem.

Below, each end point is explained with usage.
This project also contains an insomnia export for easy usage.
Though the port of this may have to be changed in the enviroment variables as localhost can change this.

### Get Product Info `/products/{id}`

An endpoint to get information on the items available as well as links to a respective thumbnail.
Currently the daabase contains 3 items and a valid ID therefor is 1-3.

### Place Order `/orders/place`

By posting a JSON body like below, an order can be input in the system.

```json
{
	"Product": 1,
	"Customer": "John Doe",
	"Address": "Whiteacre"
}
```

### Ship Order `/orders/ship/{id}`

This endpoint checks if the provided order exists and if so, attempts to ship it.
As the ID of an order generated within the application, it is posted in the logs when an order is processed.

## Assignment

This Repo contains (the work in progress of) the following assignment:

> Widget and Co - product widget - have decided to transfer their website from a local ISP hosting company to the cloud. The site has become very popular during the past few years and can experience heavy loads at peak hours. It is suggested that the move to Azure could alleviate some of the occurring problems.
> 
> During peak hours a huge amount of traffic is generated by online users who place their orders. In the past the order placing process has been the main culprit in the sluggish performance of the website.
> 
> The orderdate is stored; after an order is shipped the shipping date is again stored - these are used to calculate orderprocessed metric.
> 
> As Widget and Co is part of the conglomerate Wiley and Co the user info is shared with another department.
> 
> The product specification is kept in a traditional SQL database, Images of the product are also stored.
> 
> The site also runs a forum part where users can post reviews of the products (anonymously) - at a later stage the marketing department would use the reviews to profile a new range of products.
> 
> _**Your task:**_
> 
> The Online web store will be hosted (and run) in a cloud environment (Azure). Design a proof of concept (in C# Web API with at least 2 Azure Functions) of the application where special attention is paid to the design of the Cloud Database architecture.
> 
> The proof of concept does not require a front end!
